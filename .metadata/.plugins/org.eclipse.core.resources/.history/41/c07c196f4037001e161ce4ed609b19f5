package Array4.달팽이_숫자_1954;

import java.util.Arrays;
import java.util.Scanner;

public class Solution {

	public static void main(String[] args) {
//		Scanner sc = new Scanner(System.in);
		Scanner sc = new Scanner(input);
		
		int T = sc.nextInt();
		for (int t = 1; t <= T; t++) {
			int N = sc.nextInt();
			int[][] map = new int[N][N];
			int i = 0;
			int j = 0;
			int k = 1;
			int l = 0;
			map[i][j] = k;
			while (k <= N * N) {
				while (0 < i && i < N * N - 1 && 0 < j && j < N * N - 1 ) {
						switch (l % 4) {
							case 0:
								j++;
								break;
							case 1:
								i++;
								break;
							case 2:
								j--;
								break;
							case 3:
								i--;
								break;
						}
						map[i][j] = ++k;
					}
					l++;
				}
			
			for(int o = 0; o < N; o++) {
				System.out.println(Arrays.toString(map[o]));				
			}
		
		}
		
		
	}

	public static String input = "10\r\n" + 
			"1\r\n" + 
			"2\r\n" + 
			"3\r\n" + 
			"4\r\n" + 
			"5\r\n" + 
			"6\r\n" + 
			"7\r\n" + 
			"8\r\n" + 
			"9\r\n" + 
			"10";
	
}
