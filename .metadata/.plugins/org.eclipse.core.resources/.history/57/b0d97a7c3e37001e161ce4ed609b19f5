package Array4.달팽이_숫자_1954;

import java.util.Arrays;
import java.util.Scanner;

public class Solution {

	public static void main(String[] args) {
//		Scanner sc = new Scanner(System.in);
		Scanner sc = new Scanner(input);
		
		int T = sc.nextInt();
		for (int t = 1; t <= T; t++) {
			int N = sc.nextInt();
			int[][] map = new int[N][N];
			int i = 0;
			int j = 0;
			int k = N - 1;
			int l = 1;
			int m = 0;
			map[i][j] = l;
			while (k > 0 && l < N * N) {
				for (int o = 0; o < 3; o++) {
					for (int n = 0; n < k; n++) {
						switch (m % 4) {
							case 0:
								j++;
								break;
							case 1:
								i++;
								break;
							case 2:
								j--;
								break;
							case 3:
								i--;
								break;
						}
						map[i][j] = ++l;
					}
					m++;
				}
				k -= 2;
			}
			
			for(int o = 0; o < N; o++) {
				System.out.println(Arrays.toString(map[o]));				
			}
		
		}
		
		
	}

	public static String input = "10\r\n" + 
			"1\r\n" + 
			"2\r\n" + 
			"3\r\n" + 
			"4\r\n" + 
			"5\r\n" + 
			"6\r\n" + 
			"7\r\n" + 
			"8\r\n" + 
			"9\r\n" + 
			"10";
	
}
